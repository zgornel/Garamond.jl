<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference ·  </title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../"><img class="logo" src="../assets/logo.png" alt="  logo"/></a><h1> </h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li><a class="toctext" href="../getting_started/">Getting started</a></li><li><a class="toctext" href="../configuration/">Configuration</a></li><li><a class="toctext" href="../clientserver/">Client/Server</a></li><li><a class="toctext" href="../build/">Building</a></li><li><a class="toctext" href="../remarks/">Remarks</a></li><li class="current"><a class="toctext" href>API Reference</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API Reference</a></li></ul><a class="edit-page" href="https://github.com/zgornel/Garamond.jl/blob/master/docs/src/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API Reference</span><a class="fa fa-bars" href="#"></a></div></header><ul><li><a href="#Garamond.DTVModel"><code>Garamond.DTVModel</code></a></li><li><a href="#Garamond.ENVOP_REQUEST"><code>Garamond.ENVOP_REQUEST</code></a></li><li><a href="#Garamond.ERRORED_REQUEST"><code>Garamond.ERRORED_REQUEST</code></a></li><li><a href="#Garamond.EmbeddingsLibrary"><code>Garamond.EmbeddingsLibrary</code></a></li><li><a href="#Garamond.KILL_REQUEST"><code>Garamond.KILL_REQUEST</code></a></li><li><a href="#Garamond.READCONFIGS_REQUEST"><code>Garamond.READCONFIGS_REQUEST</code></a></li><li><a href="#Garamond.RESPONSE_TERMINATOR"><code>Garamond.RESPONSE_TERMINATOR</code></a></li><li><a href="#Garamond.UNINITIALIZED_REQUEST"><code>Garamond.UNINITIALIZED_REQUEST</code></a></li><li><a href="#Garamond.BOEEmbedder"><code>Garamond.BOEEmbedder</code></a></li><li><a href="#Garamond.BOREPEmbedder"><code>Garamond.BOREPEmbedder</code></a></li><li><a href="#Garamond.BruteTreeIndex"><code>Garamond.BruteTreeIndex</code></a></li><li><a href="#Garamond.CPMeanEmbedder"><code>Garamond.CPMeanEmbedder</code></a></li><li><a href="#Garamond.DTVEmbedder"><code>Garamond.DTVEmbedder</code></a></li><li><a href="#Garamond.DisCEmbedder"><code>Garamond.DisCEmbedder</code></a></li><li><a href="#Garamond.HNSWIndex"><code>Garamond.HNSWIndex</code></a></li><li><a href="#Garamond.IVFIndex"><code>Garamond.IVFIndex</code></a></li><li><a href="#Garamond.InternalRequest"><code>Garamond.InternalRequest</code></a></li><li><a href="#Garamond.KDTreeIndex"><code>Garamond.KDTreeIndex</code></a></li><li><a href="#Garamond.NaiveIndex"><code>Garamond.NaiveIndex</code></a></li><li><a href="#Garamond.NoopIndex"><code>Garamond.NoopIndex</code></a></li><li><a href="#Garamond.SIFEmbedder"><code>Garamond.SIFEmbedder</code></a></li><li><a href="#Garamond.SearchEnv"><code>Garamond.SearchEnv</code></a></li><li><a href="#Garamond.SearchResult"><code>Garamond.SearchResult</code></a></li><li><a href="#Garamond.Searcher"><code>Garamond.Searcher</code></a></li><li><a href="#Base.deleteat!-Tuple{SearchEnv,Any}"><code>Base.deleteat!</code></a></li><li><a href="#Base.length-Tuple{AbstractIndex}"><code>Base.length</code></a></li><li><a href="#Base.parse-Union{Tuple{T}, Tuple{Type{T},AbstractString}} where T&lt;:Garamond.InternalRequest"><code>Base.parse</code></a></li><li><a href="#Base.pop!-Tuple{SearchEnv}"><code>Base.pop!</code></a></li><li><a href="#Base.popfirst!-Tuple{SearchEnv}"><code>Base.popfirst!</code></a></li><li><a href="#Base.push!-Tuple{SearchEnv,Any}"><code>Base.push!</code></a></li><li><a href="#Base.pushfirst!-Tuple{SearchEnv,Any}"><code>Base.pushfirst!</code></a></li><li><a href="#Garamond.__document2vec-Union{Tuple{S}, Tuple{T}, Tuple{Garamond.WordVectorsEmbedder{T,S},Array{String,1}}} where S where T"><code>Garamond.__document2vec</code></a></li><li><a href="#Garamond.aggregate!-Union{Tuple{S}, Tuple{T}, Tuple{Array{S,1},Array{String,1}}} where S&lt;:SearchResult{T} where T"><code>Garamond.aggregate!</code></a></li><li><a href="#Garamond.build_data_env-Tuple{SearchEnv}"><code>Garamond.build_data_env</code></a></li><li><a href="#Garamond.build_logger"><code>Garamond.build_logger</code></a></li><li><a href="#Garamond.build_response-Tuple{Any,Any,Any}"><code>Garamond.build_response</code></a></li><li><a href="#Garamond.build_result_from_ids-NTuple{4,Any}"><code>Garamond.build_result_from_ids</code></a></li><li><a href="#Garamond.build_search_env-Tuple{Any}"><code>Garamond.build_search_env</code></a></li><li><a href="#Garamond.build_search_env-Tuple{AbstractString}"><code>Garamond.build_search_env</code></a></li><li><a href="#Garamond.build_searcher-Tuple{Any,Any,Any}"><code>Garamond.build_searcher</code></a></li><li><a href="#Garamond.chop_to_length-Tuple{Any,Any}"><code>Garamond.chop_to_length</code></a></li><li><a href="#Garamond.densify-Tuple{AbstractArray{T,2} where T}"><code>Garamond.densify</code></a></li><li><a href="#Garamond.detect_language-Tuple{AbstractString}"><code>Garamond.detect_language</code></a></li><li><a href="#Garamond.document2vec-Tuple{AbstractEmbedder,Array{AbstractString,1}}"><code>Garamond.document2vec</code></a></li><li><a href="#Garamond.env_operator-Tuple{Any,Any}"><code>Garamond.env_operator</code></a></li><li><a href="#Garamond.garamond_log_formatter-NTuple{6,Any}"><code>Garamond.garamond_log_formatter</code></a></li><li><a href="#Garamond.missing_needles"><code>Garamond.missing_needles</code></a></li><li><a href="#Garamond.noop_ranker-Tuple{Any,Any,Vararg{Any,N} where N}"><code>Garamond.noop_ranker</code></a></li><li><a href="#Garamond.parse_configuration-Tuple{AbstractString}"><code>Garamond.parse_configuration</code></a></li><li><a href="#Garamond.printable_version-Tuple{}"><code>Garamond.printable_version</code></a></li><li><a href="#Garamond.read_configuration_to_json-Tuple{Any}"><code>Garamond.read_configuration_to_json</code></a></li><li><a href="#Garamond.respond-NTuple{4,Any}"><code>Garamond.respond</code></a></li><li><a href="#Garamond.rest_server-Tuple{Integer,Integer,Base.GenericCondition{Base.AlwaysLockedST}}"><code>Garamond.rest_server</code></a></li><li><a href="#Garamond.search-Union{Tuple{I}, Tuple{E}, Tuple{T}, Tuple{Searcher{T,E,I},Any}} where I&lt;:AbstractIndex where E where T&lt;:AbstractFloat"><code>Garamond.search</code></a></li><li><a href="#Garamond.search-Union{Tuple{T}, Tuple{Array{#s469,1} where #s469&lt;:AbstractSearcher{T},Any}} where T&lt;:AbstractFloat"><code>Garamond.search</code></a></li><li><a href="#Garamond.search_server-Tuple{Any,Any,Any}"><code>Garamond.search_server</code></a></li><li><a href="#Garamond.sentences2vec-Tuple{AbstractEmbedder,Array{Array{AbstractFloat,2},1}}"><code>Garamond.sentences2vec</code></a></li><li><a href="#Garamond.squash-Union{Tuple{T}, Tuple{Array{Array{T,1},1},Int64}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a></li><li><a href="#Garamond.squash-Union{Tuple{Array{T,2}}, Tuple{T}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a></li><li><a href="#Garamond.suggestion_search!-Union{Tuple{T}, Tuple{S}, Tuple{DataStructures.MultiDict{String,Tuple{T,String}},BKTrees.BKTree{String},Array{S,1}}} where T&lt;:AbstractFloat where S&lt;:AbstractString"><code>Garamond.suggestion_search!</code></a></li><li><a href="#Garamond.summarize-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:AbstractString"><code>Garamond.summarize</code></a></li><li><a href="#Garamond.unix_socket_server-Tuple{AbstractString,Integer,Base.GenericCondition{Base.AlwaysLockedST}}"><code>Garamond.unix_socket_server</code></a></li><li><a href="#Garamond.version-Tuple{}"><code>Garamond.version</code></a></li><li><a href="#Garamond.web_socket_server-Tuple{UInt16,Integer,Base.GenericCondition{Base.AlwaysLockedST}}"><code>Garamond.web_socket_server</code></a></li><li><a href="#Garamond.word_embeddings-Union{Tuple{D}, Tuple{U}, Tuple{Q}, Tuple{S2}, Tuple{H}, Tuple{T}, Tuple{S1}, Tuple{Union{EmbeddingsAnalysis.CompressedWordVectors{Q,U,D,T,S1,H}, Glowe.WordVectors{S1,T,H}, Word2Vec.WordVectors{S1,T,H}},Array{S2,1}}} where D&lt;:Distances.PreMetric where U&lt;:Unsigned where Q&lt;:QuantizedArrays.AbstractQuantization where S2&lt;:AbstractString where H&lt;:Integer where T&lt;:Real where S1&lt;:AbstractString"><code>Garamond.word_embeddings</code></a></li><li><a href="#HNSW.knn_search-Tuple{AbstractIndex,AbstractArray{T,1} where T,Integer,AbstractArray{T,1} where T}"><code>HNSW.knn_search</code></a></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.BruteTreeIndex" href="#Garamond.BruteTreeIndex"><code>Garamond.BruteTreeIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>BruteTree index type for storing vectors. It is a wrapper around a <code>BruteTree</code> NN structure and performs brute search using a distance-based similarity between vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/brutetree.jl#L1-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.HNSWIndex" href="#Garamond.HNSWIndex"><code>Garamond.HNSWIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>HNSW index type for storing vectors. It is a wrapper around a <code>HierarchicalNSW</code> (Hierarchical Navigable Small Worlds) NN graph structure and performs a very efficient search using a distance-based similarity between vectors.</p><p><strong>References</strong></p><ul><li><a href="https://arxiv.org/abs/1603.09320">Y. A. Malkov, D.A. Yashunin &quot;Efficient and robust approximate nearest neighbor search using Hierarchical Navigable Small World graphs&quot;</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/hnsw.jl#L4-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.IVFIndex" href="#Garamond.IVFIndex"><code>Garamond.IVFIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>IVFADC index type for storing vectors. It is a wrapper around a <code>IVFADCIndex</code> (inverted file system with asymmetric distance computation) structure and performs a billion-scale search using a distance-based similarity between vectors.</p><p><strong>References</strong></p><ul><li><a href="https://hal.inria.fr/file/index/docid/514462/filename/paper_hal.pdf">Jègou et al. &quot;Product quantization for nearest neighbor search&quot;</a></li><li><a href="http://openaccess.thecvf.com/content_ECCV_2018/papers/Dmitry_Baranchuk_Revisiting_the_Inverted_ECCV_2018_paper.pdf">Baranchuk et al. &quot;Revisiting the inverted indices for billion-scale approximate nearest neighbors&quot;</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/ivfadc.jl#L4-L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.KDTreeIndex" href="#Garamond.KDTreeIndex"><code>Garamond.KDTreeIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>K-D Tree index type for storing vectors. It is a wrapper around a <code>KDTree</code> NN structure and performs a more efficient search using a distance-based similarity between vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/kdtree.jl#L1-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.NaiveIndex" href="#Garamond.NaiveIndex"><code>Garamond.NaiveIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Naive index type for storing vectors. It is a wrapper around a vector of embeddings and performs brute search using the cosine similarity between vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/naive.jl#L1-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.NoopIndex" href="#Garamond.NoopIndex"><code>Garamond.NoopIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Noop index type for storing vectors. Returns empty vectors of indexes, scores. Useful when search is done only in the db.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/noop.jl#L1-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.SearchEnv" href="#Garamond.SearchEnv"><code>Garamond.SearchEnv</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Search environment object. It contains all the data, searchers
and additional structures needed by the engine to function.</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L1-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.SearchResult" href="#Garamond.SearchResult"><code>Garamond.SearchResult</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Object that stores the search results from a single searcher.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/results.jl#L1-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.Searcher" href="#Garamond.Searcher"><code>Garamond.Searcher</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Search object. It contains all the indexed data and related</code></pre><p>configuration that allows for searches to be performed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/searcher.jl#L4-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_search_env-Tuple{AbstractString}" href="#Garamond.build_search_env-Tuple{AbstractString}"><code>Garamond.build_search_env</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">build_search_env(config_path; cache_path=nothing)</code></pre><p>Creates a search environment using the information provided by the configuration file <code>config_path</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L76-L81">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_search_env-Tuple{Any}" href="#Garamond.build_search_env-Tuple{Any}"><code>Garamond.build_search_env</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">build_search_env(env_config; cache_path=nothing)</code></pre><p>Creates a search environment using the information provided by the environment configuration <code>env_config</code>. A cache filepath can be specified by <code>cache_path</code> in which case the function will attempt to load it first.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L21-L28">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.parse_configuration-Tuple{AbstractString}" href="#Garamond.parse_configuration-Tuple{AbstractString}"><code>Garamond.parse_configuration</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">parse_configuration(filename)</code></pre><p>Parses a data configuration file (JSON format) and returns a <code>NamedTuple</code> that acts as a search environment configuration.</p><p>• Search environment options reference     <code>data_loader::Function</code>             # 0 argument function that when called loads the data i.e. <code>dbdata</code>     <code>data_sampler::Function</code>            # function that takes as input raw data and outputs a <code>dbdata</code> row     <code>id_key::Symbol</code>                    # the name of the primary integer key in <code>dbdata</code>     <code>vectors_eltype::Type</code>              # the type of the vectors, scores etc. has to be <code>&lt;:AbstractFloat</code>     <code>searcher_configs::Vector{NamedTuple}</code>  # vector of searcher configs (see reference below)     <code>embedder_configs::Vector{NamedTuple}</code>  # vector of embedder configs (see reference below)     <code>config_path::String</code>               # the path to the config</p><p>• Embedder config fields reference     <code>id::String</code>     <code>description::String</code>     <code>language::String</code>                  # the embedder-level language     <code>stem_words::Bool</code>                  # whether to stem words     <code>ngram_complexity::Int</code>             # ngram complexity (i.e. max number of tokes for an n-gram)     <code>vectors::Symbol</code>                   # wordvectors calculation/source i.e. :count, :tf, :tfidf, :bm25, :word2vec, :glove, :conceptnet, :compressed     <code>vectors_transform::Symbol</code>         # transform to apply to the vectors i.e. :lsa, :rp, :none     <code>vectors_dimension::Int</code>            # desired dimensionality after transform (ignored for word2vec approaches)     <code>embeddings_path::Union{Nothing, String}</code>  # path to the embeddings file     <code>embeddings_kind::Symbol</code>           # Type of the embedding file for Word2Vec, GloVe i.e. :text, :binary     <code>doc2vec_method::Symbol</code>            # How to arrive at a single embedding from multiple i.e. :boe, :sif etc.     <code>glove_vocabulary::Union{Nothing, String}</code>  # Path to a GloVe-generated vocabulary file (only for binary embeddings)     <code>oov_policy::Symbol</code>                # what to do with non-embeddable documents i.e. :none, :large<em>vector     `embedder</em>kwarguments::Dict{Symbol, Any}<code># explicit specification of embedder keyword arguments</code>embeddable<em>fields::Union{Nothing, Vector{Symbol}}<code># which fields to use for training the embedder</code>text</em>strip<em>flags::UInt32<code># How to strip text data before indexing</code>sif</em>alpha::Float<code># smooth inverse frequency α parameter (for &#39;sif&#39; doc2vec method only)</code>borep<em>dimension::Int<code># output dimension for BOREP embedder</code>borep</em>pooling<em>function::Symbol<code># pooling function for the BOREP embedder</code>disc</em>ngram::Int`                   # DisC embedder ngram parameter</p><p>• Searcher config fields reference     <code>id::String</code>                        # searcher id     <code>id_aggregation::String</code>            # aggregation id     <code>description::String</code>               # description of the searcher     <code>enabled::Vector{Bool}</code>             # whether to use the searcher in search or not     <code>search_index::Symbol</code>              # type of the search index i.e. :naive, :kdtree, :hnsw     <code>search_index_arguments::Vector{Any}</code>     <code>search_index_kwarguments::Dict{Symbol, Any}</code>     <code>indexable_fields::Union{Nothing, Vector{Symbol}}</code>  # which fields to index     <code>data_embedder::String</code>             # id of the data/document embedder     <code>input_embedder::String</code>            # id of the input/query embedder     <code>heuristic::Union{Nothing, Symbol}</code> # search heuristic for suggesting mispelled words (nothing means no recommendations)     <code>score_alpha::Float</code>                # score alpha (parameter for the scoring function)     <code>score_weight::Float</code>               # weight of scores of searcher (used in result aggregation)</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/config_parser.jl#L10-L61">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.rest_server-Tuple{Integer,Integer,Base.GenericCondition{Base.AlwaysLockedST}}" href="#Garamond.rest_server-Tuple{Integer,Integer,Base.GenericCondition{Base.AlwaysLockedST}}"><code>Garamond.rest_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">rest_server(port::Integer, io_port::Integer, search_server_ready::Condition [;ipaddr::String])</code></pre><p>Starts a bi-directional HTTP REST server at address <code>ipaddr::String</code> (defaults to <code>&quot;0.0.0.0&quot;</code> i.e. all ip&#39;s) that uses the TCP port <code>port</code> and communicates with the search server through the TCP port <code>io_port</code>. The server is started once the condition <code>search_server_ready</code> is triggered.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/rest.jl#L77-L85">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search-Union{Tuple{I}, Tuple{E}, Tuple{T}, Tuple{Searcher{T,E,I},Any}} where I&lt;:AbstractIndex where E where T&lt;:AbstractFloat" href="#Garamond.search-Union{Tuple{I}, Tuple{E}, Tuple{T}, Tuple{Searcher{T,E,I},Any}} where I&lt;:AbstractIndex where E where T&lt;:AbstractFloat"><code>Garamond.search</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">search(srcher, query [;kwargs])</code></pre><p>Searches for query (i.e. key terms) in <code>srcher</code>, and returns information regarding the the documents that match best the query. The function returns an object of type <code>SearchResult</code>.</p><p><strong>Arguments</strong></p><ul><li><code>srcher::Searcher</code> is the searcher</li><li><code>query</code> the query, can be either a <code>String</code> or <code>Vector{String}</code></li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>search_method::Symbol</code> controls the type of matching: <code>:exact</code>  uses exact matches while <code>:regex</code> consideres the needle a regular expression</li><li><code>max_matches::Int</code> is the maximum number of search results to return</li><li><code>max_suggestions::Int</code> is the maximum number of suggestions to return for  each missing needle</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/index.jl#L76-L93">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search-Union{Tuple{T}, Tuple{Array{#s469,1} where #s469&lt;:AbstractSearcher{T},Any}} where T&lt;:AbstractFloat" href="#Garamond.search-Union{Tuple{T}, Tuple{Array{#s469,1} where #s469&lt;:AbstractSearcher{T},Any}} where T&lt;:AbstractFloat"><code>Garamond.search</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">search(srchers, query [;kwargs])</code></pre><p>Searches for query (i.e. key terms) in multiple searches and returns information regarding the documents that match best the query. The function returns the search results in the form of a <code>Vector{SearchResult}</code>.</p><p><strong>Arguments</strong></p><ul><li><code>srchers::Vector{Searcher}</code> is the searchers vector</li><li><code>query</code> the query, can be either a <code>String</code> or <code>Vector{String}</code></li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>search_method::Symbol</code> controls the type of matching: <code>:exact</code>  uses exact matches while <code>:regex</code> consideres the needle a regular expression</li><li><code>max_matches::Int</code> is the maximum number of search results to return</li><li><code>max_suggestions::Int</code> is the maximum number of suggestions to return for  each missing needle</li><li><code>custom_weights::Dict{Symbol, Float}</code> are custom weights for each  searcher&#39;s results used in result aggregation</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/index.jl#L1-L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search_server-Tuple{Any,Any,Any}" href="#Garamond.search_server-Tuple{Any,Any,Any}"><code>Garamond.search_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">search_server(data_config_path, io_port, search_server_ready; cache_path=nothing)</code></pre><p>Search server for Garamond. It is a finite-state-machine that when called, creates the searchers i.e. search objects using the <code>data_config_path</code> and the proceeds to looping continuously in order to asynchronously handle outside requests.</p><p>After the searchers are loaded, the search server sends a notification using <code>search_server_ready</code> to any listening I/O servers.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/search.jl#L1-L11">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.unix_socket_server-Tuple{AbstractString,Integer,Base.GenericCondition{Base.AlwaysLockedST}}" href="#Garamond.unix_socket_server-Tuple{AbstractString,Integer,Base.GenericCondition{Base.AlwaysLockedST}}"><code>Garamond.unix_socket_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">unix_socket_server(socket::AbstractString, io_port::Integer, start::Condition)</code></pre><p>Starts a bi-directional unix socket server that uses a UNIX-socket <code>socket</code> and communicates with the search server through the TCP port <code>io_port</code>. The server is started once the condition <code>start</code> is triggered.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/unixsocket.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.web_socket_server-Tuple{UInt16,Integer,Base.GenericCondition{Base.AlwaysLockedST}}" href="#Garamond.web_socket_server-Tuple{UInt16,Integer,Base.GenericCondition{Base.AlwaysLockedST}}"><code>Garamond.web_socket_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">web_socket_server(port::UInt16, io_port::Integer, start::Condition [; ipaddr::String])</code></pre><p>Starts a bi-directional web socket server that uses a WEB-socket at address <code>ipaddr::String</code> (defaults to <code>&quot;127.0.0.1&quot;</code>) and port <code>port</code> and communicates with the search server through the TCP port <code>io_port</code>. The server is started once the condition <code>start</code> is triggered.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/websocket.jl#L1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.DTVModel" href="#Garamond.DTVModel"><code>Garamond.DTVModel</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Constant that represents document term vector (DTV) models used in text embedding.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/dtv.jl#L1-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.ENVOP_REQUEST" href="#Garamond.ENVOP_REQUEST"><code>Garamond.ENVOP_REQUEST</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Request corresponding to an environment operation command.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L97-L99">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.ERRORED_REQUEST" href="#Garamond.ERRORED_REQUEST"><code>Garamond.ERRORED_REQUEST</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Request corresponding to an error i.e. in parsing.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L82-L84">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.EmbeddingsLibrary" href="#Garamond.EmbeddingsLibrary"><code>Garamond.EmbeddingsLibrary</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Constant that represents embeddings libraries used in text embedding.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/wordvectors.jl#L4-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.KILL_REQUEST" href="#Garamond.KILL_REQUEST"><code>Garamond.KILL_REQUEST</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Request corresponding to a kill server command.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L87-L89">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.READCONFIGS_REQUEST" href="#Garamond.READCONFIGS_REQUEST"><code>Garamond.READCONFIGS_REQUEST</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Request corresponding to a searcher read configuration command.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L92-L94">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.RESPONSE_TERMINATOR" href="#Garamond.RESPONSE_TERMINATOR"><code>Garamond.RESPONSE_TERMINATOR</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Standard response terminator. It is used in the client-server communication mark the end of sent and received messages.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L131-L134">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.UNINITIALIZED_REQUEST" href="#Garamond.UNINITIALIZED_REQUEST"><code>Garamond.UNINITIALIZED_REQUEST</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Default request.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L77-L79">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.BOEEmbedder" href="#Garamond.BOEEmbedder"><code>Garamond.BOEEmbedder</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Bag-of-embeddings (BOE) structure for document embedding using word vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/boe.jl#L1-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.BOREPEmbedder" href="#Garamond.BOREPEmbedder"><code>Garamond.BOREPEmbedder</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Bag-of-random-embedding-projections (BOREP) structure for document embedding using word vectors.</p><p><strong>References</strong></p><ul><li><a href="https://arxiv.org/abs/1901.10444">Wieting, Kiela ICLR 2019, &quot;No training required: Exploring random encoders  for sentence classification&quot;</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/borep.jl#L1-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.CPMeanEmbedder" href="#Garamond.CPMeanEmbedder"><code>Garamond.CPMeanEmbedder</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Concatenated-power-mean-embeddings (CPMean) structure for document embedding using word vectors.</p><p><strong>References</strong></p><ul><li><a href="https://arxiv.org/abs/1803.01400a">Rücklé et al. 2018 &quot;Concatenated power mean word embeddings  as universal cross-lingual sentence representations&quot;</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/cpmean.jl#L1-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.DTVEmbedder" href="#Garamond.DTVEmbedder"><code>Garamond.DTVEmbedder</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Structure for document embedding using DTV&#39;s.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/dtv.jl#L10-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.DisCEmbedder" href="#Garamond.DisCEmbedder"><code>Garamond.DisCEmbedder</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Distributed Co-occurence (DisC) structure for document embedding using word vectors.</p><p><strong>References</strong></p><ul><li><a href="https://openreview.net/pdf?id=B1e5ef-C-">Arora et al. ICLR 2018 &quot;A compressed sensing  view of unsupervised text embeddings, bag-on-n-grams  and LSTMs&quot;</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/disc.jl#L1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.InternalRequest" href="#Garamond.InternalRequest"><code>Garamond.InternalRequest</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Request object for the internal server of the engine.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L1-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.SIFEmbedder" href="#Garamond.SIFEmbedder"><code>Garamond.SIFEmbedder</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Smooth inverse frequency (SIF) structure for document embedding using word vectors.</p><p><strong>References</strong></p><ul><li><a href="https://openreview.net/pdf?id=SyK00v5xx">Arora et al. ICLR 2017, &quot;A simple but tough-to-beat baseline for sentence embeddings&quot;</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/sif.jl#L1-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.deleteat!-Tuple{SearchEnv,Any}" href="#Base.deleteat!-Tuple{SearchEnv,Any}"><code>Base.deleteat!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">deleteat!(env::SearchEnv, pos)</code></pre><p>Deletes from a search environment the db and index elements with linear indices found in <code>pos</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L182-L186">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.length-Tuple{AbstractIndex}" href="#Base.length-Tuple{AbstractIndex}"><code>Base.length</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">length(index)</code></pre><p>Returns the number of points indexed in <code>index</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/interface.jl#L31-L35">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.parse-Union{Tuple{T}, Tuple{Type{T},AbstractString}} where T&lt;:Garamond.InternalRequest" href="#Base.parse-Union{Tuple{T}, Tuple{Type{T},AbstractString}} where T&lt;:Garamond.InternalRequest"><code>Base.parse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">parse(::Type{InternalRequest}, request::AbstractString)</code></pre><p>Parses an outside request received from a client into an <code>InternalRequest</code> usable by the search server.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/requests.jl#L103-L108">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.pop!-Tuple{SearchEnv}" href="#Base.pop!-Tuple{SearchEnv}"><code>Base.pop!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">pop!(env::SearchEnv)</code></pre><p>Pops last point from a search environment. Returns last db row and associated indexed vector.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L146-L150">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.popfirst!-Tuple{SearchEnv}" href="#Base.popfirst!-Tuple{SearchEnv}"><code>Base.popfirst!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">popfirst!(env::SearchEnv)</code></pre><p>Pops first point from a search environment. Returns first db row and associated indexed vector.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L154-L158">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.push!-Tuple{SearchEnv,Any}" href="#Base.push!-Tuple{SearchEnv,Any}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">push!(env::SearchEnv, rawdata)</code></pre><p>Pushes to a search environment i.e. to the db and all indexes.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L99-L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.pushfirst!-Tuple{SearchEnv,Any}" href="#Base.pushfirst!-Tuple{SearchEnv,Any}"><code>Base.pushfirst!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">pushfirst!(env::SearchEnv, rawdata)</code></pre><p>Pushes to the first position to a search environment i.e. to the db and all indexes.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L107-L111">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.__document2vec-Union{Tuple{S}, Tuple{T}, Tuple{Garamond.WordVectorsEmbedder{T,S},Array{String,1}}} where S where T" href="#Garamond.__document2vec-Union{Tuple{S}, Tuple{T}, Tuple{Garamond.WordVectorsEmbedder{T,S},Array{String,1}}} where S where T"><code>Garamond.__document2vec</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">document2vec(embedder, document)</code></pre><p>Word-embeddings approach to document embedding. It embeds documents using word embeddings libraries and some algorithm for combining these (depending on the type of <code>embedder</code>).</p><p><strong>Arguments</strong></p><ul><li><code>embedder::WordVectorsEmbedder</code> is the embedder</li><li><code>document::Vector{String}</code> the document to be embedded,  where each vector element corresponds to a sentence</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/wordvectors.jl#L16-L27">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.aggregate!-Union{Tuple{S}, Tuple{T}, Tuple{Array{S,1},Array{String,1}}} where S&lt;:SearchResult{T} where T" href="#Garamond.aggregate!-Union{Tuple{S}, Tuple{T}, Tuple{Array{S,1},Array{String,1}}} where S&lt;:SearchResult{T} where T"><code>Garamond.aggregate!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Aggregates search results from several searchers based on their <code>aggregation_id</code> i.e. results from searchers with identical aggregation id&#39;s are merged together into a new search result that replaces the individual searcher ones.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/results.jl#L48-L53">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_data_env-Tuple{SearchEnv}" href="#Garamond.build_data_env-Tuple{SearchEnv}"><code>Garamond.build_data_env</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">build_data_env(env::SearchEnv)</code></pre><p>Strips searchers from <code>env</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env.jl#L89-L93">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_logger" href="#Garamond.build_logger"><code>Garamond.build_logger</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">build_logger(logging_stream, log_level)</code></pre><p>Builds a logger using the stream <code>logging_stream</code>and <code>log_level</code> provided.</p><p><strong>Arguments</strong></p><ul><li><code>logging_stream::String</code> is the output stream and can take the values:</li></ul><p><code>&quot;null&quot;</code> logs to <code>/dev/null</code>, <code>&quot;stdout&quot;</code> (default) logs to standard output,   <code>&quot;/path/to/existing/file&quot;</code> logs to an existing file and   <code>&quot;/path/to/non-existing/file&quot;</code> creates the log file. If no valid option   is provided, the default stream is the standard output.</p><ul><li><code>log_level::String</code> is the log level can take the values <code>&quot;debug&quot;</code>,</li></ul><p><code>&quot;info&quot;</code>, <code>&quot;error&quot;</code> and defaults to <code>&quot;info&quot;</code> if no valid option is provided.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/utils/logging.jl#L1-L14">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_response-Tuple{Any,Any,Any}" href="#Garamond.build_response-Tuple{Any,Any,Any}"><code>Garamond.build_response</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">build_response(dbdata, request, results, [; kwargs...])</code></pre><p>Builds a response for an engine client using the data, request and results.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/search.jl#L130-L134">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_result_from_ids-NTuple{4,Any}" href="#Garamond.build_result_from_ids-NTuple{4,Any}"><code>Garamond.build_result_from_ids</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Constructs a search result from a list of data ids.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/results.jl#L16-L18">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_searcher-Tuple{Any,Any,Any}" href="#Garamond.build_searcher-Tuple{Any,Any,Any}"><code>Garamond.build_searcher</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">build_searcher(dbdata, config)</code></pre><p>Creates a Searcher from a searcher configuration.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/searcher.jl#L67-L71">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.chop_to_length-Tuple{Any,Any}" href="#Garamond.chop_to_length-Tuple{Any,Any}"><code>Garamond.chop_to_length</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Post-processes a string to fit a certain length, adding … if necessary at the end of its choped represenation.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/data/text.jl#L77-L80">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.densify-Tuple{AbstractArray{T,2} where T}" href="#Garamond.densify-Tuple{AbstractArray{T,2} where T}"><code>Garamond.densify</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">densify(array)</code></pre><p>Transforms sparse arrays into dense ones.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/interface.jl#L42-L46">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.detect_language-Tuple{AbstractString}" href="#Garamond.detect_language-Tuple{AbstractString}"><code>Garamond.detect_language</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">detect_language(text [; default=DEFAULT_LANGUAGE])</code></pre><p>Detects the language of a piece of <code>text</code>. Returns a language of type <code>Languages.Language</code>. If the text is empty of the confidence is low, return the <code>default</code> language.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/data/text.jl#L25-L31">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.document2vec-Tuple{AbstractEmbedder,Array{AbstractString,1}}" href="#Garamond.document2vec-Tuple{AbstractEmbedder,Array{AbstractString,1}}"><code>Garamond.document2vec</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">document2vec(embedder, document [;isregex=false])</code></pre><p>Embeds documents. The document representation is conceptually a vector of sentences, the output is always a vector of floating point numbers.</p><p><strong>Arguments</strong></p><ul><li><code>embedder::AbstractEmbedder</code> is the embedder</li><li><code>document::Vector{AbstractString}</code> the document to be embedded,  where each vector element corresponds to a sentence</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>isregex::Bool</code> a <code>false</code> value (default) specifies that the  document tokens are to be matched exactly while a <code>true</code> value  specifies that the tokens are to be matched partially  (for DTV-based document embedding only)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/interface.jl#L6-L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.env_operator-Tuple{Any,Any}" href="#Garamond.env_operator-Tuple{Any,Any}"><code>Garamond.env_operator</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">env_operator(env, channels)</code></pre><p>Saves/Loads/Updates the search environment <code>env</code>. Communication with the search server i.e. getting the command and its arguments and sending back a new environment is done via <code>channels</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/env_operations.jl#L1-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.garamond_log_formatter-NTuple{6,Any}" href="#Garamond.garamond_log_formatter-NTuple{6,Any}"><code>Garamond.garamond_log_formatter</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">garamond_log_formatter(level, _module, group, id, file, line)</code></pre><p>Garamond -specific log message formatter. Takes a fixed set of input arguments and returns the color, prefix and suffix for the log message.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/utils/logging.jl#L52-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.missing_needles" href="#Garamond.missing_needles"><code>Garamond.missing_needles</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Returns found and missing needles using an embedder</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/index.jl#L133-L135">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.noop_ranker-Tuple{Any,Any,Vararg{Any,N} where N}" href="#Garamond.noop_ranker-Tuple{Any,Any,Vararg{Any,N} where N}"><code>Garamond.noop_ranker</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Noop ranker, does not rank, returns the first input argument unchanged.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/rankers/noop.jl#L1-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.printable_version-Tuple{}" href="#Garamond.printable_version-Tuple{}"><code>Garamond.printable_version</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">printable_version()</code></pre><p>Returns a pretty version string that includes the git commit and date.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/utils/version.jl#L41-L45">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.read_configuration_to_json-Tuple{Any}" href="#Garamond.read_configuration_to_json-Tuple{Any}"><code>Garamond.read_configuration_to_json</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">read_configuration_to_json(env)</code></pre><p>Returns a JSON dictionary with the full configuration of the search environment.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/searchable/config_parser.jl#L374-L378">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.respond-NTuple{4,Any}" href="#Garamond.respond-NTuple{4,Any}"><code>Garamond.respond</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">respond(env, socket, counter, channels)</code></pre><p>Responds to search server requests received on <code>socket</code> using the search data from <code>searchers</code>. The requests are counted through the variable <code>counter</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/server/search.jl#L44-L50">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.sentences2vec-Tuple{AbstractEmbedder,Array{Array{AbstractFloat,2},1}}" href="#Garamond.sentences2vec-Tuple{AbstractEmbedder,Array{Array{AbstractFloat,2},1}}"><code>Garamond.sentences2vec</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">sentences2vec(embedder, document_embedding, embedded_words [;dim=0])</code></pre><p>Returns a matrix of sentence embeddings from a vector of matrices containing individual sentence word embeddings. Used mostly for word-vectors based embedders.</p><p><strong>Arguments</strong></p><ul><li><code>embedder::AbstractEmbedder</code> is the embedder</li><li><code>document_embedding::Vector{Matrix{AbstractFloat}}</code> are the document&#39;s  word embeddings, where each element of the vector represents the  embedding of a sentence (whith the matrix columns individual word  embeddings)</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>dim::Int</code> is the dimension of the word embeddings i.e. number of  components in the word vector (default <code>0</code>)</li><li><code>embedded_words::Vector{Vector{AbstractString}}</code> are the words in  each sentence the were embedded (their order corresponds to the  order of the matrix columns in <code>document_embedding</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/interface.jl#L29-L50">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.squash-Union{Tuple{Array{T,2}}, Tuple{T}} where T&lt;:AbstractFloat" href="#Garamond.squash-Union{Tuple{Array{T,2}}, Tuple{T}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">squash(m)</code></pre><p>Function that creates a single mean vector from a matrix <code>m</code> and performs some normalization operations as well.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/wordvectors.jl#L161-L166">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.squash-Union{Tuple{T}, Tuple{Array{Array{T,1},1},Int64}} where T&lt;:AbstractFloat" href="#Garamond.squash-Union{Tuple{T}, Tuple{Array{Array{T,1},1},Int64}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">squash(vv, m)</code></pre><p>Function that creates a single mean vector from a vector of vectors <code>vv</code> where each vector has a length <code>m</code> and performs some normalization operations as well.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/wordvectors.jl#L174-L180">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.suggestion_search!-Union{Tuple{T}, Tuple{S}, Tuple{DataStructures.MultiDict{String,Tuple{T,String}},BKTrees.BKTree{String},Array{S,1}}} where T&lt;:AbstractFloat where S&lt;:AbstractString" href="#Garamond.suggestion_search!-Union{Tuple{T}, Tuple{S}, Tuple{DataStructures.MultiDict{String,Tuple{T,String}},BKTrees.BKTree{String},Array{S,1}}} where T&lt;:AbstractFloat where S&lt;:AbstractString"><code>Garamond.suggestion_search!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">suggestion_search!(suggestions, search_tree, needles [;max_suggestions=1])</code></pre><p>Searches in the search tree for partial matches for each of  the <code>needles</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/search/index.jl#L152-L156">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.summarize-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:AbstractString" href="#Garamond.summarize-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:AbstractString"><code>Garamond.summarize</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">summarize(sentences [;ns=1, flags=DEFAULT_SUMMARIZATION_STRIP_FLAGS])</code></pre><p>Build a summary of the text&#39;s <code>sentences</code>. The resulting summary will be a <code>ns</code> sentence document; each sentence is pre-procesed using the <code>flags</code> option.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/data/text.jl#L44-L50">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.version-Tuple{}" href="#Garamond.version-Tuple{}"><code>Garamond.version</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">version()</code></pre><p>Returns the current Garamond version using the <code>Project.toml</code> and <code>git</code>. If the <code>Project.toml</code>, <code>git</code> are not available, the version defaults to an empty string.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/utils/version.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.word_embeddings-Union{Tuple{D}, Tuple{U}, Tuple{Q}, Tuple{S2}, Tuple{H}, Tuple{T}, Tuple{S1}, Tuple{Union{EmbeddingsAnalysis.CompressedWordVectors{Q,U,D,T,S1,H}, Glowe.WordVectors{S1,T,H}, Word2Vec.WordVectors{S1,T,H}},Array{S2,1}}} where D&lt;:Distances.PreMetric where U&lt;:Unsigned where Q&lt;:QuantizedArrays.AbstractQuantization where S2&lt;:AbstractString where H&lt;:Integer where T&lt;:Real where S1&lt;:AbstractString" href="#Garamond.word_embeddings-Union{Tuple{D}, Tuple{U}, Tuple{Q}, Tuple{S2}, Tuple{H}, Tuple{T}, Tuple{S1}, Tuple{Union{EmbeddingsAnalysis.CompressedWordVectors{Q,U,D,T,S1,H}, Glowe.WordVectors{S1,T,H}, Word2Vec.WordVectors{S1,T,H}},Array{S2,1}}} where D&lt;:Distances.PreMetric where U&lt;:Unsigned where Q&lt;:QuantizedArrays.AbstractQuantization where S2&lt;:AbstractString where H&lt;:Integer where T&lt;:Real where S1&lt;:AbstractString"><code>Garamond.word_embeddings</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">word_embeddings(word_vectors, document_tokens [;kwargs])</code></pre><p>Returns a matrix corresponding to the word embeddings of <code>document_tokens</code> as well as the indices of missing i.e. not-embedded tokens.</p><p><strong>Arguments</strong></p><ul><li><code>word_vectors::EmbeddingsLibrary</code> wordvectors object; can be  a <code>Word2Vec.WordVectors</code>, <code>Glowe.WordVectors</code> or <code>ConceptnetNumberbatch.ConceptNet</code></li><li><code>document_tokens::Vector{String}</code> the words to be embedded,  where each vector element corresponds to a word</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>keep_size::Bool</code> a <code>false</code> value discards vectors for words not found  while a <code>true</code> value (default) places a zero vector in the embeddings  matrix</li><li><code>print_matched_words::Bool</code> if <code>true</code>, the words that were and that were  not embedded are printed (default <code>false</code>)</li><li><code>kwargs...</code> the rest of the keyword arguments are <code>ConceptNet</code> specific  and can be found by inspecting the help of <code>ConceptnetNumberbatch.embed_document</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/embedder/wordvectors.jl#L80-L100">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HNSW.knn_search-Tuple{AbstractIndex,AbstractArray{T,1} where T,Integer,AbstractArray{T,1} where T}" href="#HNSW.knn_search-Tuple{AbstractIndex,AbstractArray{T,1} where T,Integer,AbstractArray{T,1} where T}"><code>HNSW.knn_search</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">knn_search(index, point, k, keep)</code></pre><p>Searches for the <code>k</code> nearest neighbors of <code>point</code> in data contained in the <code>index</code>. The index may vary from a simple wrapper inside a matrix to more complex structures such as k-d trees, etc. Only neighbors present in <code>keep</code> are returned.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/c4ef1755ba74f50fbb77ea92d2da79d5c935be9a/src/index/interface.jl#L14-L21">source</a></section><footer><hr/><a class="previous" href="../remarks/"><span class="direction">Previous</span><span class="title">Remarks</span></a></footer></article></body></html>
